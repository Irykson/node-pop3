{"version":3,"sources":["../src/helper.mjs"],"names":["stream2String","stream","Promise","resolve","reject","buffer","Buffer","concat","length","on","_buffer","err","toString","listify","str","split","CRLF","filter","line","map"],"mappings":";;;;;;;;AAAA;;AAEO,SAASA,aAAT,CAAuBC,MAAvB,EAA+B;AACpC,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,QAAIC,MAAM,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,CAAb;AACA,mBAAeF,MAAf;AAAA,QAAKG,MAAL,YAAKA,MAAL;AACAP,IAAAA,MAAM,CAACQ,EAAP,CAAU,MAAV,EAAkB,UAACC,OAAD,EAAa;AAC7BF,MAAAA,MAAM,IAAIE,OAAO,CAACF,MAAlB;AACAH,MAAAA,MAAM,GAAGC,MAAM,CAACC,MAAP,CAAc,CAACF,MAAD,EAASK,OAAT,CAAd,EAAiCF,MAAjC,CAAT;AACD,KAHD;AAIAP,IAAAA,MAAM,CAACQ,EAAP,CAAU,OAAV,EAAmB,UAACE,GAAD;AAAA,aAASP,MAAM,CAACO,GAAD,CAAf;AAAA,KAAnB;AACAV,IAAAA,MAAM,CAACQ,EAAP,CAAU,KAAV,EAAiB;AAAA,aAAMN,OAAO,CAACE,MAAM,CAACO,QAAP,EAAD,CAAb;AAAA,KAAjB;AACD,GATM,CAAP;AAUD;;AAEM,SAASC,OAAT,CAAiBC,GAAjB,EAAsB;AAC3B,SAAOA,GAAG,CAACC,KAAJ,CAAUC,cAAV,EACJC,MADI,CACG,UAACC,IAAD;AAAA,WAAUA,IAAV;AAAA,GADH,EAEJC,GAFI,CAEA,UAACD,IAAD;AAAA,WAAUA,IAAI,CAACH,KAAL,CAAW,GAAX,CAAV;AAAA,GAFA,CAAP;AAGD","sourcesContent":["import { CRLF } from './constant.mjs';\r\n\r\nexport function stream2String(stream) {\r\n  return new Promise((resolve, reject) => {\r\n    let buffer = Buffer.concat([]);\r\n    let {length} = buffer;\r\n    stream.on('data', (_buffer) => {\r\n      length += _buffer.length;\r\n      buffer = Buffer.concat([buffer, _buffer], length);\r\n    });\r\n    stream.on('error', (err) => reject(err));\r\n    stream.on('end', () => resolve(buffer.toString()));\r\n  });\r\n}\r\n\r\nexport function listify(str) {\r\n  return str.split(CRLF)\r\n    .filter((line) => line)\r\n    .map((line) => line.split(' '));\r\n}\r\n"],"file":"helper.js"}